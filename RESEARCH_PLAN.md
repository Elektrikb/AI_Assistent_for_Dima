# План исследовательской реализации Recommendation System

## 1. Основная идея проекта
### 1.1. Цель проекта

Разработка интеллектуальной системы рекомендаций, которая на основе вопросов пользователя предлагает релевантные статьи, адаптируясь под его интересы с помощью обучения с подкреплением (Reinforcement Learning, DQN).

### 1.2. Проблемы, которые решает проект:

- Пользователи теряются в большом объёме информации.
- Статичные системы рекомендаций не адаптируются под поведение.
- Нет механизмов персонализации и "обучения" на основе взаимодействия.

### 1.3. Целевая аудитория:

- Пользователи образовательных платформ, справочных систем, чат-ботов.
- Администраторы, которым нужно анализировать поведение пользователей.

### 1.4. Роли и задачи:

 - Пользователь — задаёт вопросы, получает рекомендации.
 - Система RL — обучается на основе обратной связи (оценки релевантности).
 - Администратор — может просматривать статистику, управлять статьями.

### 2. Анализ требований к проекту
### 2.1. Ожидания пользователей:

- Быстрые и точные ответы на вопросы.
- Персонализированные рекомендации.
- Простой и понятный интерфейс.
- Конфиденциальность данных.

### 2.2. Функциональные требования:

- Авторизация пользователей (вход, выход, регистрация).
- Отправка вопроса и получение рекомендованной статьи.
- Хранение истории взаимодействий.
- Адаптация поведения агента (DQN) на основе оценки.
- Получение статистики по сессии.

### 2.3. Нефункциональные требования:

- Безопасность: защита данных, аутентификация.
- Отказоустойчивость: корректная обработка ошибок.
- Производительность: быстрый отклик при генерации ответа.
## 3. Архитектура проекта
Проект построен по модульной архитектуре:
```
Frontend (HTML/JS)  
        ↓  
FastAPI (Backend)  
        ↓  
 RL Agent (DQN)  
 ↓            ↓           ↓  
Session    Article     Environment  
Manager      DB       (State/Action)  
```
### 3.1. Компоненты:

- Frontend — веб-интерфейс на чистом HTML/JS.
- FastAPI — сервер, обрабатывающий запросы.
- ArticleDB — база статей (JSON/Excel).
- SessionManager — хранение истории сессий.
- DQN Agent — модель обучения с подкреплением.
- Environment — среда, формирующая состояние.
- ResponseGenerator — генерация ответа.
- UserDatabase — хранение пользователей.
- JWT Security — аутентификация и защита маршрутов.

### 3.2. Взаимодействие:

Пользователь вводит вопрос → отправляется на /ask.
Сервер проверяет токен → идентифицирует пользователя.
Агент на основе вопроса и истории выбирает статью.
Ответ возвращается пользователю.
Взаимодействие сохраняется в сессии.

## 4. Технологии проекта
```
| Компонент             | Технология                               |
| Язык программирования | Python 3.9+                              | 
| Веб-фреймворк         | FastAPI                                  | 
| Фронтенд              | HTML, CSS, JavaScript (без фреймворков)  | 
| Модель RL             | PyTorch + DQN                            | 
| Векторизация текста   | Sentence Transformers (all-MiniLM-L6-v2) | 
| Хранение данных       | JSON, Excel (pandas), будущее — SQLite   | 
| Аутентификация        | JWT (python-jose), пароли — argon2       | 
| Зависимости           | pip, requirements.txt                    | 
| Сборка и запуск       | Uvicorn                                  |
```
## 5. Вопросы безопасности

### 5.1. Меры защиты:

- JWT-аутентификация с токенами доступа (access token).
- Хранение паролей с помощью argon2 (устойчив к атакам).
- Защита маршрутов: /ask, /session, /users — только для авторизованных.
- Валидация всех входных данных через Pydantic.
- Ограничение прав: пользователь видит только свои сессии.
- Хранение users.json вне Git (в .gitignore).

### 5.2. Дополнительно можно добавить:

- Логирование попыток входа.
- Ограничение числа запросов (rate limiting).
- HTTPS (в продакшене).

## 6. План разработки проекта
```
| Этап              | Задачи                                  | Срок     |
| 1. Проектирование | Анализ, архитектура, макеты             | 1 неделя | 
| 2. Бэкенд-ядро    | FastAPI, DQN, ArticleDB, SessionManager | 2 недели | 
| 3. Авторизация    | JWT, регистрация, выход                 | 3 дня    | 
| 4. Фронтенд       | Интерфейс чата, формы                   | 5 дней   | 
| 5. Интеграция     | Связка фронтенд-бэкенд                  | 2 дня    | 
| 6. Тестирование   | Unit-тесты, ручное тестирование         | 1 неделя | 
| 7. Документация   | Отчёт, README, инструкции               | 3 дня    |
```
### 6.1. Управление проектом:

- Методология: итеративная разработка.
- Инструменты: GitHub, VS Code, Jupyter (для RL).
- Контроль версий: Git.

## 7. Макеты интерфейса
### 7.1.Основные экраны:

1. Экран входа
  - Поля: логин, пароль
  - Кнопки: Войти, Зарегистрироваться
2. Чат-интерфейс
  - История сообщений (пользователь — бот)
  - Поле ввода
  - Кнопка отправки
  - Кнопка «Выйти»
3. Статистика (скрыто)
  - Будет доступна через /session/{id}

## 8. Стратегия тестирования
### 8.1. Типы тестов:

- Модульное тестирование — проверка отдельных компонентов (DQN, ArticleDB).
- Интеграционное тестирование — работа /ask, /login, /session.
- Ручное тестирование — проверка сценариев: вход, вопрос, выход.
- Тесты безопасности — попытка доступа без токена.

### 8.2. Критерии успеха:

- Все основные функции работают.
- Нет утечек данных.
- Ответы релевантны (оценка вручную).
- Система обрабатывает ошибки без падения.

## 9. Документация проекта
Содержание документации:

**README.md**:
- Описание проекта
- Как установить и запустить
- API-эндпоинты
**Архитектура**:
- Диаграмма компонентов
- Описание модулей
**Инструкции**:
 - Для пользователя: как пользоваться
- Для разработчика: как добавить статью, обучить модель
**Безопасность**:
- Как работает JWT
- Где хранятся пароли
**План доработок**:
- Поддержка администратора
- API-документация (Swagger)
## 10. Общий вывод
**В ходе разработки проекта я получил ценный опыт в**:

- Построении систем рекомендаций на основе обучения с подкреплением.
- Интеграции нейросетевых моделей в веб-приложение.
- Реализации авторизации с JWT и защиты данных.
- Работе с асинхронным API (FastAPI).
- Создании пользовательского интерфейса с нуля.

**Что можно улучшить**:

Добавить обучение агента в реальном времени.
Внедрить SQLite вместо JSON.
Создать админ-панель для управления статьями.
Поддержка многопользовательских сессий и чат-истории.
Добавить тесты (pytest) и CI/CD.

*Вывод**:
Проект показал, что гибридные системы (RL + NLP) эффективны для персонализированных рекомендаций и могут быть реализованы даже в рамках небольшого приложения.

